@startuml
!theme plain

title Activity Diagram Demo - Order Processing

start

:Customer places order;
:Validate order items;
if (Items in stock?) then (yes)
  :Calculate total price;
  :Create order record;
  :Reserve inventory;
  :Process payment;
  if (Payment successful?) then (yes)
    :Update order status to "Paid";
    :Send confirmation email;
    :Schedule shipment;
    stop
  else (no)
    :Release inventory;
    :Cancel order;
    :Notify customer;
    stop
  endif
else (no)
  :Notify customer\nabout out-of-stock items;
  :Cancel order;
  stop
endif

@enduml

