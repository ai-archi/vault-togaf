@startuml
!theme plain

title Component Diagram Demo - E-commerce System

package "Frontend" {
  [Web Application] as WebApp
  [Mobile App] as MobileApp
}

package "API Gateway" {
  [API Gateway] as Gateway
}

package "Backend Services" {
  [User Service] as UserService
  [Product Service] as ProductService
  [Order Service] as OrderService
  [Payment Service] as PaymentService
}

package "Data Layer" {
  database "User DB" as UserDB
  database "Product DB" as ProductDB
  database "Order DB" as OrderDB
}

package "External Services" {
  [Email Service] as EmailService
  [Payment Gateway] as PaymentGateway
}

' 连接关系
WebApp --> Gateway
MobileApp --> Gateway

Gateway --> UserService
Gateway --> ProductService
Gateway --> OrderService
Gateway --> PaymentService

UserService --> UserDB
ProductService --> ProductDB
OrderService --> OrderDB
OrderService --> PaymentService

PaymentService --> PaymentGateway
OrderService --> EmailService

note right of Gateway
  Routes requests to
  appropriate services
end note

note bottom of PaymentService
  Handles payment
  processing and
  refunds
end note

@enduml

